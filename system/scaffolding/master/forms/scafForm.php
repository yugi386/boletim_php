<?php//  ====================================================================================================================					//	SCAFFOLDING PARA CRIAÇÃO DE FORMULARIOS//  ====================================================================================================================					// CODIGO PARA EVITAR EXECUCAO DE BLOCOS SEM PASSAR PELA PAGINA INICIAL	if (!defined('FW_RAIZ'))		die("ERRO DE REDIRECIONAMENTO");	include_once($_SERVER["DOCUMENT_ROOT"]  . FW_RAIZ . "system/checkBlock.php");	// 			$FW_registro = array();		if ($view_tipo == 2 ) {							// ESTA OPERACAO SÓ É EXECUTADA NA ALTERACAO 			$FW_registro = $view_show_registro[0];		//	AQUI TEMOS OS DADOS DO REGISTRO CORRENTE						}?><form method="<?php echo $FW_tipoform; ?>" action="<?php echo FW_RAIZ . $FW_operacao; ?>confirma/sim"><?php		$form = new formLib();							//	classe de formularios		$variaveis = array();		$variaveis = $form->RetornaVar($FW_campos);			$campos = $form->Retorna_Campos($FW_tabela);		//	retona campo da tabela, tipo e tamanho		// CRIANDO AS VARIAVEIS EM TEMPO DE EXECUCAO...		for ($ct=0;$ct<count($variaveis);$ct++) {		//	criando e zerando variaveis que sao construidas em tempo real				$temp = $variaveis[$ct];				$$temp = "";		}				// POVOANDO AS VARIAVEIS COM DADOS DO BANCO (PARA ALTERACAO)		if ($view_tipo == 2) {			for ($ct=0;$ct<count($variaveis);$ct++) {				$temp = $variaveis[$ct];				$$temp = (isset( $FW_registro[substr($temp,1)] ) ? $this->textTransform2(substr($temp,1),$FW_registro[substr($temp,1)],$campos) : "");	//	verificacao para ignorar campos que não estão na tabela			}		}						// GERANDO O FORMULARIO PROPRIAMENTE DITO		$formulario = $form->GeraTabForm($FW_tabela,$FW_campos,$FW_formato);				// ordenando o vetor de mascaras para recuperar a informacao dos formularios		$temp = 0;		for ($i = 0; $i<count($variaveis);$i++) {			$temp = max($temp,strlen($variaveis[$i]));			// echo $variaveis[$i];		}			// echo $temp;		// die();				$vetor = array();		$ponteiro = 0;		while (TRUE) {			$verifica = 0;			for ($i = 0; $i<count($variaveis);$i++) {				if ( strlen($variaveis[$i]) == $temp ) {					$vetor[$ponteiro] = $variaveis[$i];					$variaveis[$i] = "";					$verifica = 1;					$ponteiro++;					break;				}			}			if ($verifica == 0) {				$temp = $temp - 1;			}					if ($temp == 0) {				break;			}		}				//	print_r($variaveis);		// print_r($vetor);			for ($i = 0; $i<count($variaveis);$i++) {			$temp = $vetor[$i];		//	este vetor tem que ser previamente ordenado conforme processo acima			$tmp = (isset($$temp) ? $$temp : "");			$formulario = str_replace("$".$temp,$tmp,$formulario);		}			?><?php		//	APRESENTANDO O CORPO DO FOMULARIO ... 		echo "<br>";		echo  $formulario;				// EXIBINDO O FORMULARIO:		echo "<br>";?>	<!-- CONTROLE DE AÇÕES DO FORMULÁRIO, BOTOES GRAVAR, ALTERAR E VOLTAR -->		<?php if ($view_tipo == '1') { ?>		<input type="image" src="<?php echo FW_SCAF_IMAGE; ?>gravar.png" width="128" height="64" value="ENVIAR" alt="[ GRAVAR ]" />		<img src="<?php echo FW_SCAF_IMAGE; ?>limpar.png" width="128" height="64" onclick=document.forms[0].reset() >	<?php } else { ?>		<input type="image" src="<?php echo FW_SCAF_IMAGE; ?>alterar.png" width="128" height="64" value="ENVIAR" alt="[ ALTERAR ]" />	<?php } ?>	<a href="<?php echo FW_RAIZ  . $view_redir ;?>index"><img src="<?php echo FW_SCAF_IMAGE; ?>voltar.png" width="128" height="64" border="0"></a>	</form>